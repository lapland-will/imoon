window.Modernizr=function(al,ak,aj){function H(b){ad.cssText=b}function G(d,c){return H(aa.join(d+";")+(c||""))}function W(d,c){return typeof d===c}function U(d,c){return !!~(""+d).indexOf(c)}function S(f,c){for(var h in f){var g=f[h];if(!U(g,"-")&&ad[g]!==aj){return c=="pfx"?g:!0}}return !1}function Q(g,c,j){for(var i in g){var h=c[g[i]];if(h!==aj){return j===!1?g[i]:W(h,"function")?h.bind(j||c):h}}return !1}function O(g,f,j){var i=g.charAt(0).toUpperCase()+g.slice(1),h=(g+" "+Y.join(i+" ")+i).split(" ");return W(f,"string")||W(f,"undefined")?S(h,f):(h=(g+" "+X.join(i+" ")+i).split(" "),Q(h,f,j))}var ai="2.6.2",ah={},ag=ak.documentElement,af="modernizr",ae=ak.createElement(af),ad=ae.style,ac,ab={}.toString,aa=" -webkit- -moz- -o- -ms- ".split(" "),Z="Webkit Moz O ms",Y=Z.split(" "),X=Z.toLowerCase().split(" "),V={},T={},R={},P=[],N=P.slice,M,K=function(v,u,t,s){var r,q,p,o,g=ak.createElement("div"),f=ak.body,b=f||ak.createElement("body");if(parseInt(t,10)){while(t--){p=ak.createElement("div"),p.id=s?s[t]:af+(t+1),g.appendChild(p)}}return r=["&#173;",'<style id="s',af,'">',v,"</style>"].join(""),g.id=af,(f?g:b).innerHTML+=r,b.appendChild(g),f||(b.style.background="",b.style.overflow="hidden",o=ag.style.overflow,ag.style.overflow="hidden",ag.appendChild(b)),q=u(g,v),f?g.parentNode.removeChild(g):(b.parentNode.removeChild(b),ag.style.overflow=o),!!q},J={}.hasOwnProperty,I;!W(J,"undefined")&&!W(J.call,"undefined")?I=function(d,c){return J.call(d,c)}:I=function(d,c){return c in d&&W(d.constructor.prototype[c],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(a){var h=this;if(typeof h!="function"){throw new TypeError}var g=N.call(arguments,1),f=function(){if(this instanceof f){var b=function(){};b.prototype=h.prototype;var d=new b,c=h.apply(d,g.concat(N.call(arguments)));return Object(c)===c?c:d}return h.apply(a,g.concat(N.call(arguments)))};return f}),V.history=function(){return !!al.history&&!!history.pushState},V.csstransforms=function(){return !!O("transform")},V.csstransforms3d=function(){var b=!!O("perspective");return b&&"webkitPerspective" in ag.style&&K("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(a,d){b=a.offsetLeft===9&&a.offsetHeight===3}),b},V.csstransitions=function(){return O("transition")},V.video=function(){var b=ak.createElement("video"),f=!1;try{if(f=!!b.canPlayType){f=new Boolean(f),f.ogg=b.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),f.h264=b.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),f.webm=b.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")}}catch(e){}return f};for(var L in V){I(V,L)&&(M=L.toLowerCase(),ah[M]=V[L](),P.push((ah[M]?"":"no-")+M))}return ah.addTest=function(e,c){if(typeof e=="object"){for(var f in e){I(e,f)&&ah.addTest(f,e[f])}}else{e=e.toLowerCase();if(ah[e]!==aj){return ah}c=typeof c=="function"?c():c,typeof enableClasses!="undefined"&&enableClasses&&(ag.className+=" "+(c?"":"no-")+e),ah[e]=c}return ah},H(""),ae=ac=null,function(ap,ao){function z(f,e){var h=f.createElement("p"),g=f.getElementsByTagName("head")[0]||f.documentElement;return h.innerHTML="x<style>"+e+"</style>",g.insertBefore(h.lastChild,g.firstChild)}function y(){var b=s.elements;return typeof b=="string"?b.split(" "):b}function x(d){var c=B[d[D]];return c||(c={},C++,d[D]=C,B[C]=c),c}function w(b,h,e){h||(h=ao);if(A){return h.createElement(b)}e||(e=x(h));var d;return e.cache[b]?d=e.cache[b].cloneNode():F.test(b)?d=(e.cache[b]=e.createElem(b)).cloneNode():d=e.createElem(b),d.canHaveChildren&&!am.test(b)?e.frag.appendChild(d):d}function v(b,l){b||(b=ao);if(A){return b.createDocumentFragment()}l=l||x(b);var k=l.frag.cloneNode(),j=0,i=y(),h=i.length;for(;j<h;j++){k.createElement(i[j])}return k}function u(d,c){c.cache||(c.cache={},c.createElem=d.createElement,c.createFrag=d.createDocumentFragment,c.frag=c.createFrag()),d.createElement=function(a){return s.shivMethods?w(a,d,c):c.createElem(a)},d.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+y().join().replace(/\w+/g,function(b){return c.createElem(b),c.frag.createElement(b),'c("'+b+'")'})+");return n}")(s,c.frag)}function t(b){b||(b=ao);var d=x(b);return s.shivCSS&&!E&&!d.hasCSS&&(d.hasCSS=!!z(b,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),A||u(b,d),b}var an=ap.html5||{},am=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,F=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,E,D="_html5shiv",C=0,B={},A;(function(){try{var b=ao.createElement("a");b.innerHTML="<xyz></xyz>",E="hidden" in b,A=b.childNodes.length==1||function(){ao.createElement("a");var c=ao.createDocumentFragment();return typeof c.cloneNode=="undefined"||typeof c.createDocumentFragment=="undefined"||typeof c.createElement=="undefined"}()}catch(d){E=!0,A=!0}})();var s={elements:an.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:an.shivCSS!==!1,supportsUnknownElements:A,shivMethods:an.shivMethods!==!1,type:"default",shivDocument:t,createElement:w,createDocumentFragment:v};ap.html5=s,t(ao)}(this,ak),ah._version=ai,ah._prefixes=aa,ah._domPrefixes=X,ah._cssomPrefixes=Y,ah.testProp=function(b){return S([b])},ah.testAllProps=O,ah.testStyles=K,ah}(this,this.document);jQuery.easing.jswing=jQuery.easing.swing;jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,f,a,h,g){return jQuery.easing[jQuery.easing.def](e,f,a,h,g)},easeInQuad:function(e,f,a,h,g){return h*(f/=g)*f+a},easeOutQuad:function(e,f,a,h,g){return -h*(f/=g)*(f-2)+a},easeInOutQuad:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f+a}return -h/2*((--f)*(f-2)-1)+a},easeInCubic:function(e,f,a,h,g){return h*(f/=g)*f*f+a},easeOutCubic:function(e,f,a,h,g){return h*((f=f/g-1)*f*f+1)+a},easeInOutCubic:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f+a}return h/2*((f-=2)*f*f+2)+a},easeInQuart:function(e,f,a,h,g){return h*(f/=g)*f*f*f+a},easeOutQuart:function(e,f,a,h,g){return -h*((f=f/g-1)*f*f*f-1)+a},easeInOutQuart:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f+a}return -h/2*((f-=2)*f*f*f-2)+a},easeInQuint:function(e,f,a,h,g){return h*(f/=g)*f*f*f*f+a},easeOutQuint:function(e,f,a,h,g){return h*((f=f/g-1)*f*f*f*f+1)+a},easeInOutQuint:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f*f+a}return h/2*((f-=2)*f*f*f*f+2)+a},easeInSine:function(e,f,a,h,g){return -h*Math.cos(f/g*(Math.PI/2))+h+a},easeOutSine:function(e,f,a,h,g){return h*Math.sin(f/g*(Math.PI/2))+a},easeInOutSine:function(e,f,a,h,g){return -h/2*(Math.cos(Math.PI*f/g)-1)+a},easeInExpo:function(e,f,a,h,g){return(f==0)?a:h*Math.pow(2,10*(f/g-1))+a},easeOutExpo:function(e,f,a,h,g){return(f==g)?a+h:h*(-Math.pow(2,-10*f/g)+1)+a},easeInOutExpo:function(e,f,a,h,g){if(f==0){return a}if(f==g){return a+h}if((f/=g/2)<1){return h/2*Math.pow(2,10*(f-1))+a}return h/2*(-Math.pow(2,-10*--f)+2)+a},easeInCirc:function(e,f,a,h,g){return -h*(Math.sqrt(1-(f/=g)*f)-1)+a},easeOutCirc:function(e,f,a,h,g){return h*Math.sqrt(1-(f=f/g-1)*f)+a},easeInOutCirc:function(e,f,a,h,g){if((f/=g/2)<1){return -h/2*(Math.sqrt(1-f*f)-1)+a}return h/2*(Math.sqrt(1-(f-=2)*f)+1)+a},easeInElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k)==1){return e+l}if(!j){j=k*0.3}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}return -(g*Math.pow(2,10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j))+e},easeOutElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k)==1){return e+l}if(!j){j=k*0.3}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}return g*Math.pow(2,-10*h)*Math.sin((h*k-i)*(2*Math.PI)/j)+l+e},easeInOutElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h==0){return e}if((h/=k/2)==2){return e+l}if(!j){j=k*(0.3*1.5)}if(g<Math.abs(l)){g=l;var i=j/4}else{var i=j/(2*Math.PI)*Math.asin(l/g)}if(h<1){return -0.5*(g*Math.pow(2,10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j))+e}return g*Math.pow(2,-10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j)*0.5+l+e},easeInBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}return i*(f/=h)*f*((g+1)*f-g)+a},easeOutBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}return i*((f=f/h-1)*f*((g+1)*f+g)+1)+a},easeInOutBack:function(e,f,a,i,h,g){if(g==undefined){g=1.70158}if((f/=h/2)<1){return i/2*(f*f*(((g*=(1.525))+1)*f-g))+a}return i/2*((f-=2)*f*(((g*=(1.525))+1)*f+g)+2)+a},easeInBounce:function(e,f,a,h,g){return h-jQuery.easing.easeOutBounce(e,g-f,0,h,g)+a},easeOutBounce:function(e,f,a,h,g){if((f/=g)<(1/2.75)){return h*(7.5625*f*f)+a}else{if(f<(2/2.75)){return h*(7.5625*(f-=(1.5/2.75))*f+0.75)+a}else{if(f<(2.5/2.75)){return h*(7.5625*(f-=(2.25/2.75))*f+0.9375)+a}else{return h*(7.5625*(f-=(2.625/2.75))*f+0.984375)+a}}}},easeInOutBounce:function(e,f,a,h,g){if(f<g/2){return jQuery.easing.easeInBounce(e,f*2,0,h,g)*0.5+a}return jQuery.easing.easeOutBounce(e,f*2-g,0,h,g)*0.5+h*0.5+a}});var Utils=Utils||{};Utils.isAndroid2=function(){var a=navigator.userAgent.toLowerCase();if(a.indexOf("android 2")>-1){return true}return false};Utils.isBlackBerry=function(){var a=navigator.userAgent.toLowerCase();if(a.indexOf("blackberry")>-1){return true}return false};Utils.isWindowsPhone=function(){return(navigator.userAgent.match(/(windows phone)/i)?true:false)};Utils.isiOS=function(){return(navigator.userAgent.match(/(iPad|iPhone|iPod)/i)?true:false)};Utils.canPlayh264=function(){var b=document.createElement("video"),a=false;b.canPlayType&&b.canPlayType("video/mp4").replace(/no/,"")?a=true:a=false;return a};Utils.hexToRBG=function(b){var a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(b);console.log("yup!");return a?{r:parseInt(a[1],16),g:parseInt(a[2],16),b:parseInt(a[3],16)}:null};Utils.isTouch=function(){return"ontouchstart" in window};Utils.pixelDensity=function(){var a=1;if(window.devicePixelRatio!==undefined){a=window.devicePixelRatio}return a};Utils.hasHistoryAPI=function(){return !!(window.history&&history.pushState)};Utils.MediaQuery=(function(b){var a;function c(){var f=b(document.createElement("div")),e=0,d=function(){if(f.width()!=e){e=f.width();b(window).trigger("mediaQueryChange",[e])}};f.attr("id","mediaQueryDetector");f.css({position:"absolute",top:"-100px","background-color":"#ccc","z-index":0,height:"40px"});b("body").prepend(f);e=f.width();b(window).resize(d);return true}return{getInstance:function(){if(!a){a=c()}return this}}})(jQuery,document,window);Utils.Scroller=(function(c,d,b){function a(f,e){if(!f){return null}this.container=f;this.slideElement=c(this.container.get()[0].children[0]);this.updateOptions(e);this.perpage=1;this.page=0;this.nextPageThreshold=60;this.minNextPageThreshold=10;this.dir=0;this.enabled=false;this.initOffset=0;this.maxWidth=0;this.gestureDeltaX=0;if(d.csstransitions){c(this.slideElement).on("transitionend webkitTransitionEnd msTransitionEnd",c.proxy(this.handleTransitionEnd,this))}this.maxpages=this.slideElement.find(">li").length/this.perpage;c(window).resize(c.proxy(this.size,this));this.enable();this.size()}a.prototype={enable:function(){this.enabled=true;this.container.on("touchstart",c.proxy(this.touchStart,this));this.container.on("touchmove",c.proxy(this.touchMove,this));this.container.on("touchend",c.proxy(this.touchEnd,this))},disable:function(){this.enabled=false;this.container.off("touchstart");this.container.off("touchmove");this.container.off("touchend")},updateOptions:function(e){this.options=e||{};this.maxWidth=this.options.max?this.options.max:0;this.duration=this.options.duration?this.options.duration:300;this.peekWidth=this.options.peek?this.options.peek:0;this.tileSize=this.options.size?this.options.size:1;this.maxpages=this.slideElement.find(">li").length/this.perpage;this.size()},size:function(){var f=Math.round(this.tileSize*this.container.width());if(this.maxWidth>0&&f>this.maxWidth){f=this.maxWidth}var g=2;if(this.peekWidth>0){g=4}var h=Math.round((this.container.width()-f-(this.peekWidth*2))/g);var i=Math.round(f+(h*2));var e=0;if(this.peekWidth>0){e=h+this.peekWidth}if(d.csstransitions){this.slideElement.css("transition-duration","0ms");if(d.csstransforms3d){this.slideElement.css("transform","translate3d("+e+"px,0,0)")}else{this.slideElement.css("transform","translateX("+e+"px)")}}else{this.slideElement.css("left",e+"px")}this.width=this.liwidth=i;this.initOffset=-e;this.slideElement.width(this.maxpages*(this.width+1)+"px");this.slideElement.find(">li").width(this.width);if(b.isAndroid2()||b.isBlackBerry()){this.slideElement.find(">li").css("margin-left","-2px")}this.slideElement.find(">li>div").width(f);this.move(0)},next:function(){if(this.page+1<this.maxpages){this.page++;this.dir=1;this.move(this.duration)}},prev:function(){if(this.page-1>=0){this.page--;this.dir=-1;this.move(this.duration)}},jumpTo:function(f,e){if(f+1<=this.maxpages&&f-1>=-1){this.dir=f>this.page?1:-1;this.page=f;this.move(e)}},touchStart:function(f){this.oldMousePosX=f.originalEvent.touches[0].pageX;this.oldMousePosY=f.originalEvent.touches[0].pageY;this.isScrolling=undefined;f.stopPropagation()},touchMove:function(g){if(g.originalEvent.touches.length>1||g.originalEvent.scale&&g.originalEvent.scale!==1){return}var i=g.originalEvent.touches[0].pageX;var h=g.originalEvent.touches[0].pageY;this.gestureDeltaX=this.oldMousePosX-i;this.gestureDeltaY=this.oldMousePosY-h;if(typeof this.isScrolling=="undefined"){this.isScrolling=!!(this.isScrolling||Math.abs(this.gestureDeltaX)<Math.abs(this.gestureDeltaY))}if(!this.isScrolling){g.preventDefault();var f=(this.page*this.width)+this.initOffset;if(this.page<this.maxpages&&Math.abs(this.gestureDeltaX)>5){if(d.csstransitions){this.slideElement.css("transition-duration","0ms");if(d.csstransforms3d){this.slideElement.css("transform","translate3d("+-(f+this.gestureDeltaX)+"px,0,0)")}else{this.slideElement.css("transform","translateX("+-(f+this.gestureDeltaX)+"px)")}}else{this.slideElement.css("left",-(f+this.gestureDeltaX)+"px")}}g.stopPropagation()}},touchEnd:function(){var e=this.page*this.width;if(!this.isScrolling){if(this.gestureDeltaX<0&&Math.abs(this.gestureDeltaX)>=this.nextPageThreshold&&this.page>0){this.page--;this.dir=-1}else{if(this.gestureDeltaX>0&&Math.abs(this.gestureDeltaX)>=this.nextPageThreshold&&this.page<this.maxpages-1){this.page++;this.dir=1}}if(Math.abs(this.gestureDeltaX)>5){this.move(this.duration)}this.gestureDeltaX=0}},move:function(f){if(f>0){c(this).trigger("scrollStart",[this.dir])}var e=(this.page*this.width)+this.initOffset;if(d.csstransitions){this.slideElement.css("transition-timing-function","ease");this.slideElement.css("transition-duration",f+"ms");if(d.csstransforms3d){this.slideElement.css("transform","translate3d("+-e+"px,0,0)")}else{this.slideElement.css("transform","translateX("+-(e)+"px)")}}else{c(this.slideElement).animate({left:-e},{duration:f,complete:c.proxy(this.handleTransitionEnd,this)})}},handleTransitionEnd:function(){c(this).trigger("scrollComplete")}};return a})(jQuery,Modernizr,Utils,document,window);Utils.PhoneMenu=(function(c,b,d){var a;function e(f){this.options=f||{};this.opened=false;a=this.options.width?this.options.width:c(window).width();if(d.csstransitions&&!b.isAndroid2()&&!b.isWindowsPhone()){c(".slide").each(c.proxy(function(h,g){c(g).css("-webkit-transition-property","-webkit-transform");c(g).css("-moz-transition-property","-moz-transform");c(g).css("-o-transition-property","-o-transform");c(g).css("transitionDuration","250ms");c(g).css("transitionTimingFunction","ease");if(h===0){c(g).on("webkitTransitionEnd",c.proxy(this.animateComplete,this));c(g).on("msTransitionEnd",c.proxy(this.animateComplete,this));c(g).on("oTransitionEnd",c.proxy(this.animateComplete,this));c(g).on("transitionend",c.proxy(this.animateComplete,this))}},this))}}e.prototype={setMenuWidth:function(f){a=f;if(this.opened){this.moveMenu(a)}},moveMenu:function(f){console.log("2");c(".slide").each(c.proxy(function(h,g){if(d.csstransitions&&!b.isAndroid2()&&!b.isWindowsPhone()){if(d.csstransforms3d){c(g).css("transform","translate3d("+f+"px,0,0)")}else{c(g).css("transform","translateX("+f+"px)")}}else{c(g).stop();if(h===0){c(g).animate({left:f+"px"},{duration:250,complete:this.animateComplete,queue:false})}else{c(g).animate({left:f+"px"},{duration:250,queue:false})}}},this))},animateComplete:function(f){if(this.opened){c(this).trigger("openComplete")}else{c(this).trigger("closeComplete")}},toggle:function(){console.log("1");if(this.opened){this.close()}else{this.open()}},open:function(){this.opened=true;this.moveMenu(a)},close:function(){this.opened=false;this.moveMenu(0)}};return e})(jQuery,Utils,Modernizr,document,window);var App=App||{};App.Main=(function(c,b,a){function d(e){this.options=e||{};this.sitePage=this.options.page;this.restaurant=this.options.restaurant;this.longlat=this.options.longlat;this.colour=this.options.colour;this.pageController;c("document").ready(c.proxy(this.handleAppReady,this))}d.prototype={handleAppReady:function(){this.mq=Utils.MediaQuery.getInstance();this.mq.compareWidth=c("#mediaQueryDetector").width();this.handlePageOpen(null,this.sitePage);if("ontouchstart" in a){c("body").removeClass("no-touch")}c(".social-buttons a").on("click",c.proxy(this.handleSocialClick,this))},handleSocialClick:function(g){var f=c(g.target).attr("href");_gaq.push(["_trackEvent","SocialButtons",this.sitePage,f])},handleScroll:function(f){},handlePageOpen:function(g,f){this.pageController=new App[f+"Controller"](this.restaurant,this.longlat,this.colour)},handlePageClose:function(g,f){this.pageController.destroy();delete this.pageController}};return d})(jQuery,window,document);App.MenuController=(function(d,a,b,c){function e(f,g){this.clickCallback=f;this.phoneMenu;this.mapOpen=false;this.navOpen=false;this.navMode="flyout";this.map=new App.GoogleMapsController(g);d(b).resize(d.proxy(this.handleResize,this))}e.prototype={setupNav:function(f){this.navMode=f;if(f=="flyout"){this.phoneMenu=null;d("#navButton").on("click",d.proxy(function(g){console.log(this.navOpen);if(this.navOpen){this.closeNav()}else{d("#navMenu").fadeIn(200);this.navOpen=true;d("#navMenu").on("mouseleave",d.proxy(function(h){this.closeNav()},this));_gaq.push(["_trackEvent","Menu",this.navMode,"Open"])}},this));d(".google-map").appendTo(".infoContainer>div")}else{if(!this.phoneMenu){this.phoneMenu=new c.PhoneMenu({width:(d(b).width()-53)});d(this.phoneMenu).on("openComplete",d.proxy(this.handlePhoneNavOpened,this));d(this.phoneMenu).on("closeComplete",d.proxy(this.handlePhoneNavClosed,this))}d("#navButton").on("click",d.proxy(function(g){if(!this.mapOpen){d(".navMenuContainer").css("display","block");d(".google-map").css("display","none");this.phoneMenu.toggle();if(this.phoneMenu.opened){_gaq.push(["_trackEvent","Menu",this.navMode,"Open"])}else{_gaq.push(["_trackEvent","Menu",this.navMode,"Close"])}}else{this.hideMobileMap()}},this));d("#viewMapButton").on("click",d.proxy(function(g){d(".google-map").css("display","block");this.showMobileMap()},this));d(".google-map").appendTo("body")}d("#navMenu a").each(d.proxy(function(g){d(d("#navMenu").children()[g]).on("click",{index:g},d.proxy(function(h){this.clickCallback(h)},this))},this));this.handleResize()},handlePhoneNavOpened:function(){console.log("OPENED");d("html,body").css("overflow","hidden");d("html,body").on("touchmove",function(f){f.preventDefault()})},handlePhoneNavClosed:function(){console.log("CLOSED");d("html,body").css("overflow","visible");d("html,body").off("touchmove")},handleResize:function(g){if(d(b).width()<640){var f=0;if(c.isiOS()){f=110}this.phoneMenu.setMenuWidth(d(b).width()-53);d("#map-canvas").css("height",d(b).height()+f);d("#map-canvas").css("width",(d(b).width()-53));d("section.google-map span").css("height",d(b).height()+f);d("section.google-map").css("width",d(b).width()-53);d("section.google-map span").css("box-shadow","inset -3px 0 5px -3px rgba(0,0,0,0.75)");d(".navMenuContainer ul").width(d(b).width()-73)}else{d("#map-canvas").css("height",d(".info").height());d("#map-canvas").css("width","");d("section.google-map span").css("height",d(".info").height());d("section.google-map").css("width","");d(".navMenuContainer ul").width("")}this.map.triggerResize()},closeNav:function(){if(this.navMode=="flyout"){d("#navMenu").off("mouseleave");d("#navMenu").fadeOut(200);this.navOpen=false}else{console.log("CLOSE MENU");this.phoneMenu.close()}_gaq.push(["_trackEvent","Menu",this.navMode,"Close"])},unsetNav:function(){d("#navButton").off("click");d("#navButton").off("mouseenter");d(".navMenuContainer").css("display","");this.navOpen=false;d("#viewMapButton").off("click");d("#expandMenu").off("click");d("#expandVino").off("click");d("#map-canvas").css("height","340px");d(".google-map").css("display","inline-block")},showMobileMap:function(){d(".navMenuContainer").css("display","none");this.mapOpen=true;this.phoneMenu.open();_gaq.push(["_trackEvent","Menu","Map","Open"])},hideMobileMap:function(){this.mapOpen=false;this.phoneMenu.close();_gaq.push(["_trackEvent","Menu","Map","Close"])}};return e})(jQuery,document,window,Utils);App.GoogleMapsController=(function(e,a,c,d){var g;var f;function b(p){var n=p.split(",");f=new google.maps.Geocoder();var i=new google.maps.LatLng(n[0],n[1]);var m=[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}];var h=new google.maps.StyledMapType(m,{name:"NO POI"});var j={zoom:14,center:i,disableDefaultUI:true,zoomControl:true,scrollwheel:false,clickableLabels:false,mapTypeControlOptions:{mapTypeIds:[google.maps.MapTypeId.ROADMAP,"no_poi"]},zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL,position:google.maps.ControlPosition.LEFT_TOP}};g=new google.maps.Map(a.getElementById("map-canvas"),j);this.map=g;var o;if(d.pixelDensity()>1){o="/static/images/Pin_2x.png"}else{o="/static/images/Pin.png"}var k={url:o,scaledSize:new google.maps.Size(26,34)};this.map.mapTypes.set("no_poi",h);this.map.setMapTypeId("no_poi");var l=new google.maps.Marker({map:g,position:i,icon:k});google.maps.event.addListener(g,"resize",function(){g.setCenter(l.getPosition());console.log("CENTER")});google.maps.event.addListener(g,"zoom_changed",function(){g.panTo(l.getPosition())})}b.prototype={triggerResize:function(){google.maps.event.trigger(this.map,"resize")}};return b})(jQuery,document,window,Utils);App.ReservationsController=(function(e,b,c,d){function a(){this.oldTitle="";var f=e("#datepicker").pikaday({minDate:new Date(),yearRange:[2013,2020],bound:false,format:"DD/MM/YYYY"});e(".pika-single").appendTo(".calendarContainer");e("#datepicker").on("click",function(){e(".calendarContainer").animate({height:"show"},300)});e("#datepicker").on("blur",function(){e(".calendarContainer").animate({height:"hide"},300)});e(".links .reservations").on("click",e.proxy(this.show,this));e("section.overlay").on("click",e.proxy(this.closeOverlay,this));e("#submitOpenTableForm").on("click",e.proxy(this.submit,this))}a.prototype={show:function(){e("section.overlay").show();e("section.overlay").animate({opacity:"1"},300,"easeOutQuad",function(){e("section.overlay .overlayContainer").animate({"margin-top":"-178px",opacity:"1"},300,"easeOutQuad")});this.oldTitle=b.title;b.title=e("#restaurant_name").val()+" - Reservations";_gaq.push(["_trackEvent","Reservations","UI","Open"])},hide:function(){e("section.overlay .overlayContainer").animate({"margin-top":"0px",opacity:"0"},300,"easeOutQuad",function(){e("section.overlay").animate({opacity:"0"},300,"easeOutQuad",function(){e("section.overlay").hide()})});b.title=this.oldTitle;_gaq.push(["_trackEvent","Reservations","UI","Close"])},closeOverlay:function(f){if(e(f.target).hasClass("overlay")||e(f.target).hasClass("close")){this.hide()}},submit:function(){e("#openTableForm").submit();_gaq.push(["_trackEvent","Reservations","Action","Submit"])}};return a})(jQuery,document,window,Utils);App.RestaurantController=(function(e,a,c,d){var g;var f;function b(h,i,j){this.restaurant=h;this.scrollIndicatorFading=false;this.section="/";this.trackPerPage="desktop";this.logoMoved=false;this.notTracked=new Array(false,false,false,false,false,false,false);this.restaurantPhotos=new d.Scroller(e("#restaurantPhotos"),{duration:500});e(this.restaurantPhotos).on("scrollComplete",e.proxy(this.handleScrollEnd,this));e("#prevRestaurantPhoto").on("click",e.proxy(function(){this.restaurantPhotos.prev()},this));e("#nextRestaurantPhoto").on("click",e.proxy(function(){this.restaurantPhotos.next()},this));e(this.restaurantPhotos).on("scrollComplete",e.proxy(this.handlePhotosScrollEnd,this));e("#restaurantPhotosNav a").each(e.proxy(function(k){e(e("#restaurantPhotosNav").children()[k]).on("click",e.proxy(this.handleScrollNavClick,this,k))},this));this.otherLocations=new d.Scroller(e("#otherLocations"),{peek:30,size:0.89,duration:500});e(this.otherLocations).on("scrollComplete",e.proxy(this.handleLocationScrollEnd,this));e("#prevLocation").on("click",e.proxy(function(){this.otherLocations.prev()},this));e("#nextLocation").on("click",e.proxy(function(){this.otherLocations.next()},this));this.socialPhotos=new d.Scroller(e("#socialPhotos"),{peek:30,size:0.89,duration:500});e("#prevSocialPhoto").on("click",e.proxy(function(){this.socialPhotos.prev()},this));e("#nextSocialPhoto").on("click",e.proxy(function(){this.socialPhotos.next()},this));e(this.socialPhotos).on("scrollComplete",e.proxy(this.handleFeedScrollEnd,this));e("#ReservationsButton").on("click",e.proxy(this.handleNavClick,this));this.menu=new App.MenuController(e.proxy(this.handleNavClick,this),i);this.reservations=new App.ReservationsController();e("#scrollIndicator").on("click",e.proxy(function(){this.scrollToSection("/contact")},this));e(c).on("mediaQueryChange",e.proxy(this.handleMediaQueryChange,this));e(c).resize(e.proxy(this.handleResize,this));if(!d.isTouch()){e(c).scroll(e.proxy(this.handleScroll,this))}else{}if(this.isValidSection(c.location.pathname)){this.section=c.location.pathname;e(c).on("popstate",e.proxy(this.handlePopState,this));e(c).on("load",e.proxy(function(){if(this.section!="/"){this.navigateToSection(this.section,false)}},this));if(Modernizr.history){history.replaceState({page:this.section,type:"load"},"",c.location.pathname)}}this.handleMediaQueryChange(null,e(c).width())}b.prototype={isValidSection:function(h){switch(h){case"/":case"/contact":case"/other-spots":case"/wine-and-beer":case"/menu":case"/reservations":return true;break}return false},scrollToSection:function(h){var i=0;e("#navMenu a").each(function(){e(this).removeClass("on")});switch(h){case"/":e("#navMenu li:nth-child(1) a").addClass("on");a.title=e("#restaurant_name").val();break;case"/contact":i=e(".infoContainer").offset().top;e("#navMenu li:nth-child(2) a").addClass("on");a.title=e("#restaurant_name").val()+" - Contact Us";break;case"/menu":i=e(".menu").offset().top;e("#navMenu li:nth-child(3) a").addClass("on");a.title=e("#restaurant_name").val()+" - Menu";break;case"/wine-and-beer":i=e(".vino").offset().top;e("#navMenu li:nth-child(4) a").addClass("on");a.title=e("#restaurant_name").val()+" - Wine and Beer";break;case"/other-spots":i=e(".otherEventLocations").offset().top;e("#otherspotsNavButton").addClass("on");a.title=e("#restaurant_name").val()+" - Our Other Spots";break}this.menu.closeNav();e("html,body").animate({scrollTop:i},350,"easeInOutQuad")},organizeFeedTiles:function(j){var i=e(".feedItem");var h;var k;e("#socialPhotos li").remove();i.each(function(l){if(l%j==0){h=e(a.createElement("li"));e("#socialPhotos ul").append(h);k=e(a.createElement("div")).addClass("feedContainer");h.append(k)}k.append(i[l])})},organizeLocationTiles:function(m){var k=e(".locationItem");var h;var n;var j=Math.ceil(k.length/m);e("#otherLocations li").remove();k.each(function(o){if(o%m==0){h=e(a.createElement("li"));e("#otherLocations ul").append(h);n=e(a.createElement("div")).addClass("locationContainer");h.append(n)}n.append(k[o])});e("#otherLocationsNav").empty();for(var l=0;l<j;l++){if(l==0){e("#otherLocationsNav").append('<a href="javascript:;" class="on"><span></span></a>')}else{e("#otherLocationsNav").append('<a href="javascript:;"><span></span></a>')}}},handlePopState:function(h){if(h.originalEvent.state){this.navigateToSection(h.originalEvent.state.page,false);if(h.originalEvent.state.page!="/reservations"){this.reservations.hide()}}},handleScrollNavClick:function(h){this.restaurantPhotos.jumpTo(h,400)},handleOtherScrollNavClick:function(h){this.otherLocations.jumpTo(h,400)},handlePhotosScrollEnd:function(h){e("header a.arrow").removeClass("disabled");if(this.restaurantPhotos.page===0){e("#prevRestaurantPhoto").addClass("disabled")}else{if(this.restaurantPhotos.page==this.restaurantPhotos.maxpages-1){e("#nextRestaurantPhoto").addClass("disabled")}}_gaq.push(["_trackEvent","Scroller","RestaurantPhotos",this.restaurantPhotos.page.toString()])},handleFeedScrollEnd:function(h){e("footer a.arrow").removeClass("disabled");if(this.socialPhotos.page===0){e("#prevSocialPhoto").addClass("disabled")}else{if(this.socialPhotos.page==this.socialPhotos.maxpages-1){e("#nextSocialPhoto").addClass("disabled")}}_gaq.push(["_trackEvent","Scroller","SocialPhotos",this.trackPerPage,this.socialPhotos.page])},handleLocationScrollEnd:function(h){e(".otherEventLocations a.arrow").removeClass("disabled");if(this.otherLocations.page===0){e("#prevLocation").addClass("disabled")}else{if(this.otherLocations.page==this.otherLocations.maxpages-1){e("#nextLocation").addClass("disabled")}}e("#otherLocationsNav a").each(function(j){e(this).removeClass("on")});e(e("#otherLocationsNav").children()[this.otherLocations.page]).addClass("on");_gaq.push(["_trackEvent","Scroller","OtherLocations-home",this.otherLocations.page.toString()])},handleNavClick:function(h){h.preventDefault();if(e(h.target).attr("href")==undefined){console.log(e(h.target).attr("href"));this.navigateToSection(e(h.currentTarget).attr("href"),true)}else{this.navigateToSection(e(h.target).attr("href"),true)}},navigateToSection:function(i,h){switch(i){case"/":case"/gallery":case"/contact":case"/menu":case"/wine-and-beer":case"/other-spots":this.scrollToSection(i);if(Modernizr.history&&h){history.pushState({page:i,type:"link"},"",i);_gaq.push(["_trackPageview"])}break;case"/reservations":this.reservations.show();if(this.menu.navOpen){this.menu.closeNav()}if(Modernizr.history&&h){history.pushState({page:i,type:"link"},"",i);_gaq.push(["_trackPageview"])}break;case"/events":c.location.href="/events";break;default:if(i!=undefined){c.location.href=i}break}},handleScroll:function(h){if(e(c).scrollTop()>50&&!this.scrollIndicatorFading){e("#scrollIndicator").fadeOut(300);this.scrollIndicatorFading=true}else{if(e(c).scrollTop()<50&&this.scrollIndicatorFading){e("#scrollIndicator").fadeIn(300);this.scrollIndicatorFading=false}}if(e(c).width()>1024){if(e(c).scrollTop()>=200&&e(c).scrollTop()<800&&!this.notTracked[0]){this.notTracked[0]=true;_gaq.push(["_trackEvent","PageDepth","Desktop","200"])}if(e(c).scrollTop()>=800&&e(c).scrollTop()<1500&&!this.notTracked[1]){this.notTracked[1]=true;_gaq.push(["_trackEvent","PageDepth","Desktop","800"])}if(e(c).scrollTop()>=1500&&e(c).scrollTop()<2900&&!this.notTracked[2]){this.notTracked[2]=true;_gaq.push(["_trackEvent","PageDepth","Desktop","1500"])}if(e(c).scrollTop()>=2900&&e(c).scrollTop()<3900&&!this.notTracked[3]){this.notTracked[3]=true;_gaq.push(["_trackEvent","PageDepth","Desktop","2900"])}if(e(c).scrollTop()>=3900&&e(c).scrollTop()<4900&&!this.notTracked[4]){this.notTracked[3]=true;_gaq.push(["_trackEvent","PageDepth","Desktop","3900"])}if(e(c).scrollTop()>=4900&&e(c).scrollTop()<5900&&!this.notTracked[5]){this.notTracked[3]=true;_gaq.push(["_trackEvent","PageDepth","Desktop","4900"])}if(e(c).scrollTop()>=5900&&!this.notTracked[6]){this.notTracked[4]=true;_gaq.push(["_trackEvent","PageDepth","Desktop","5900"])}}},handleScrollEnd:function(h){console.log("SCROLL ENDED: update nav");e("#restaurantPhotosNav a").each(function(j){e(this).removeClass("on")});e(e("#restaurantPhotosNav").children()[this.restaurantPhotos.page]).addClass("on")},handleResize:function(i){if(e(c).width()>=1024){var h=e(c).height()-45;if(h>1200){h=1200-45}e("header, header .slider .photoItem").css("height",h+"px");e("#restaurantPhotosNav").css("top",(h-56)+"px");e(".arrow.down").css("top",(h-30)+"px");e(".arrow.rest").css("top",(h-68)+"px")}else{e("header, header .slider .photoItem").css("height","");e(".sliderNav").css("top","");e(".arrow.down").css("top","");e(".arrow.rest").css("top","")}},handleMediaQueryChange:function(m,k){this.menu.unsetNav();var j=this.restaurant;var i="";if(d.pixelDensity()>1){i="_2x"}if(k>=1024){this.organizeFeedTiles(3);this.organizeLocationTiles(3);this.otherLocations.updateOptions({peek:34,size:1,max:845});this.socialPhotos.updateOptions({peek:34,size:1,max:845,duration:500});this.trackPerPage="desktop";this.handleResize()}if(k>=640&&k<1024){this.organizeFeedTiles(2);this.organizeLocationTiles(2);this.otherLocations.updateOptions({peek:40,size:0.9,max:665});this.socialPhotos.updateOptions({peek:34,size:0.9,max:555,duration:500});this.trackPerPage="vtablet"}if(k>=640){e("#restaurantPhotos .photoItem").each(function(o){e(this).css("background-image","url(/static/images/photos/"+j+"/LRG/"+o+".jpg)")});this.menu.setupNav("flyout");this.restaurantPhotos.updateOptions({duration:500});var n=this.restaurant;if(n=="yonge"||n=="queen"||n=="adelaide"||n=="labeverly"||n=="laspring"){n="terroni"}var h="/static/images/logos/LRG/"+n+i+".png";var l=new Image();l.src=h.replace("_2x","");l.onload=function(){e("#restaurantLogo").css("background-size",this.width+"px "+this.height+"px")};e("#restaurantLogo").css("background-image","url("+h+")");e("#restaurantLogo").css("background-size",l.width+"px "+l.height+"px")}if(k<640){this.organizeFeedTiles(1);this.organizeLocationTiles(1);this.otherLocations.updateOptions({peek:0,size:0.98,max:285});this.socialPhotos.updateOptions({peek:34,size:0.9,max:216,duration:300});this.restaurantPhotos.updateOptions({duration:300});this.menu.setupNav("slideout");this.trackPerPage="phone";e("#expandMenu").on("click",e.proxy(function(o){e(".food .collapse").show();e("#expandMenu").hide();e(".food  h4").css("margin-bottom","6px");_gaq.push(["_trackEvent","Menus","Food","Open"])},this));e("#expandVino").on("click",e.proxy(function(o){e(".vino .collapse").show();e("#expandVino").hide();e(".vino .menuContainer h4").css("margin-bottom","0px");_gaq.push(["_trackEvent","Menus","Vino","Open"])},this));e("#restaurantPhotos .photoItem").each(function(o){e(this).css("background-image","url(/static/images/photos/"+j+"/SMLL/"+o+".jpg)")});var n=this.restaurant;if(n=="yonge"||n=="queen"||n=="adelaide"||n=="labeverly"||n=="laspring"){n="terroni"}var h="/static/images/logos/SML/"+n+i+".png";var l=new Image();l.src=h.replace("_2x","");l.onload=function(){e("#restaurantLogo").css("background-size",this.width+"px "+this.height+"px")};e("#restaurantLogo").css("background-image","url("+h+")");e("#restaurantLogo").css("background-size",l.width+"px "+l.height+"px")}e("#otherLocationsNav a").each(e.proxy(function(o){e(e("#otherLocationsNav").children()[o]).on("click",e.proxy(this.handleOtherScrollNavClick,this,o))},this))},destroy:function(){}};return b})(jQuery,document,window,Utils);App.HomeController=(function(d,a,b,c){function e(){this.scrollIndicatorFading=false;this.homePhotos=new c.Scroller(d("#homePhotos"),{duration:500});d(this.homePhotos).on("scrollComplete",d.proxy(this.handleScrollEnd,this));d("#prevHomePhoto").on("click",d.proxy(function(){this.homePhotos.prev()},this));d("#nextHomePhoto").on("click",d.proxy(function(){this.homePhotos.next()},this));d(this.homePhotos).on("scrollComplete",d.proxy(this.handleHomePhotosScrollEnd,this));d("#homePhotosNav a").each(d.proxy(function(f){d(d("#homePhotosNav").children()[f]).on("click",d.proxy(this.handleScrollNavClick,this,f))},this));d(b).on("mediaQueryChange",d.proxy(this.handleMediaQueryChange,this));d(b).resize(d.proxy(this.handleResize,this));if(!c.isTouch()){d(b).scroll(d.proxy(this.handleScroll,this))}else{d(b).on("touchmove",d.proxy(this.handleScroll,this))}this.handleMediaQueryChange(null,d(b).width());d("#scrollIndicator").on("click",d.proxy(function(){offset=d(".eventsBox").offset().top;d("html,body").animate({scrollTop:offset},350,"easeInOutQuad");console.log(offset)},this))}e.prototype={handleScrollNavClick:function(f){this.homePhotos.jumpTo(f,400)},handleHomePhotosScrollEnd:function(f){d("header a.arrow").removeClass("disabled");if(this.homePhotos.page===0){d("#prevHomePhoto").addClass("disabled")}else{if(this.homePhotos.page==this.homePhotos.maxpages-1){d("#nextHomePhoto").addClass("disabled")}}d("#homePhotosNav a").each(function(g){d(this).removeClass("on")});d(d("#homePhotosNav").children()[this.homePhotos.page]).addClass("on");_gaq.push(["_trackEvent","Scroller","HomePhotos",this.homePhotos.page.toString()])},handleScroll:function(f){if(d(b).scrollTop()>50&&!this.scrollIndicatorFading){d("#scrollIndicator").fadeOut(300);this.scrollIndicatorFading=true}else{if(d(b).scrollTop()<50&&this.scrollIndicatorFading){d("#scrollIndicator").fadeIn(300);this.scrollIndicatorFading=false}}},handleResize:function(g){if(d(b).width()>=1024){var f=d(b).height()-45;if(f>1200){f=1200-45}d("header, header .slider .photoItem").css("height",f+"px");d(".sliderNav.home").css("top",(f-156)+"px");d(".arrow.home").css("top",(f-168)+"px");d(".arrow.down.home").css("top",(f-30)+"px")}else{d("header, header .slider .photoItem").css("height","");d(".sliderNav.home").css("top","");d(".arrow.down.home").css("top","");d(".arrow.home").css("top","")}},handleMediaQueryChange:function(i,h){var f=this.restaurant;var j="/static/images/photos";var g="LRG";var k=["/queen/"+g+"/1.jpg","/adelaide/"+g+"/1.jpg","/yonge/"+g+"/1.jpg","/laspring/"+g+"/1.jpg","/labeverly/"+g+"/1.jpg","/sudforno/"+g+"/1.jpg","/labettola/"+g+"/1.jpg","/osteria/"+g+"/1.jpg","/barcentrale/"+g+"/1.jpg",];if(h>=1024){this.handleResize()}if(h<640){g="LRG"}d("#homePhotos .photoItem").each(function(l){d(this).css("background-image","url("+j+""+k[l]+")")})},destroy:function(){delete this.homePhotos}};return e})(jQuery,document,window,Utils);App.EventsController=(function(e,b,c,d){var g;var f;function a(i,j,k){this.restaurant=i;this.scrollIndicatorFading=false;this.eventRoomPhotos=new d.Scroller(e("#eventRoomPhotos"),{duration:500});e(this.eventRoomPhotos).on("scrollComplete",e.proxy(this.handleEventRoomPhotosScrollEnd,this));e("#prevEventsPhoto").on("click",e.proxy(function(){this.eventRoomPhotos.prev()},this));e("#nextEventsPhoto").on("click",e.proxy(function(){this.eventRoomPhotos.next()},this));e("#eventRoomPhotosNav a").each(e.proxy(function(l){e(e("#eventRoomPhotosNav").children()[l]).on("click",e.proxy(this.handleScrollNavClick,this,l))},this));this.otherLocations=new d.Scroller(e("#otherLocations"),{peek:30,size:0.89,duration:500});e(this.otherLocations).on("scrollComplete",e.proxy(this.handleLocationScrollEnd,this));e("#prevLocation").on("click",e.proxy(function(){this.otherLocations.prev()},this));e("#nextLocation").on("click",e.proxy(function(){this.otherLocations.next()},this));this.menu=new App.MenuController(e.proxy(this.handleNavClick,this),j);this.reservations=new App.ReservationsController();e("#resvervationsClick").on("click",e.proxy(function(){this.navigateToSection("/reservations",true)},this));e("#scrollIndicator").on("click",e.proxy(function(){this.scrollToSection("/contact")},this));var h=d.hexToRBG("#"+k);e(".links li div.icon").css("background-color","rgba("+h.r+","+h.g+","+h.b+",0.8)");e(".links li a span.link").css({color:"#"+k});e(c).on("mediaQueryChange",e.proxy(this.handleMediaQueryChange,this));e(c).resize(e.proxy(this.handleResize,this));if(!d.isTouch()){e(c).scroll(e.proxy(this.handleScroll,this))}else{e(c).on("touchmove",e.proxy(this.handleScroll,this))}e("#eventsNavButton").addClass("on");this.handleMediaQueryChange(null,e(c).width());e("#otherLocationsNav a").each(e.proxy(function(l){console.log(l);e(e("#otherLocationsNav").children()[l]).on("click",e.proxy(this.handleOtherScrollNavClick,this,l))},this));e(c).on("popstate",e.proxy(this.handlePopState,this));if(Modernizr.history){history.replaceState({page:"/events",type:"load"},"",c.location.pathname)}this.handleEventRoomPhotosScrollEnd();e(".eventsBox .button").on("click",e.proxy(this.handleEventContactClick,this))}a.prototype={handleEventContactClick:function(i){var h=e(i.currentTarget).attr("href");_gaq.push(["_trackEvent","EventContacts",this.restaurant,h])},handleNavClick:function(h){h.preventDefault();this.navigateToSection(e(h.target).attr("href"),true)},handlePopState:function(h){if(h.originalEvent.state){console.log(h.originalEvent.state);this.navigateToSection(h.originalEvent.state.page,false);if(h.originalEvent.state.page!="/reservations"){this.reservations.hide()}}},navigateToSection:function(i,h){switch(i){case"/":case"/gallery":case"/menu":case"/wine-and-beer":case"/contact":c.location.href=i;break;case"/reservations":this.reservations.show();this.menu.closeNav();if(Modernizr.history&&h){history.pushState({page:i,type:"link"},"",i);_gaq.push(["_trackPageview"])}break;case"/events":this.reservations.hide();break;default:if(i!=undefined){c.location.href=i}break}},scrollToSection:function(h){var i=0;e("#navMenu a").each(function(){e(this).removeClass("on")});switch(h){case"/":e("#navMenu li:nth-child(1) a").addClass("on");break;case"/contact":i=e(".eventsBox").offset().top;e("#navMenu li:nth-child(2) a").addClass("on");break;case"/menu":i=e(".menu").offset().top;e("#navMenu li:nth-child(3) a").addClass("on");break;case"/wine-and-beer":i=e(".vino").offset().top;e("#navMenu li:nth-child(4) a").addClass("on");break;case"/reservations":i=e(".links").offset().top;break}this.menu.closeNav();e("html,body").animate({scrollTop:i},350,"easeInOutQuad")},organizeLocationTiles:function(m){var k=e(".locationItem");var h;var n;var j=Math.ceil(k.length/m);e("#otherLocations li").remove();k.each(function(o){if(o%m==0){h=e(b.createElement("li"));e("#otherLocations ul").append(h);n=e(b.createElement("div")).addClass("locationContainer");h.append(n)}n.append(k[o])});e("#otherLocationsNav").empty();for(var l=0;l<j;l++){if(l==0){e("#otherLocationsNav").append('<a href="javascript:;" class="on"><span></span></a>')}else{e("#otherLocationsNav").append('<a href="javascript:;"><span></span></a>')}}},handleScrollNavClick:function(h){this.eventRoomPhotos.jumpTo(h,400)},handleOtherScrollNavClick:function(h){this.otherLocations.jumpTo(h,400)},handleEventRoomPhotosScrollEnd:function(h){e("header a.arrow").removeClass("disabled");if(this.eventRoomPhotos.page===0){e("#prevEventsPhoto").addClass("disabled")}if(this.eventRoomPhotos.page==this.eventRoomPhotos.maxpages-1){e("#nextEventsPhoto").addClass("disabled")}e("#eventRoomPhotosNav a").each(function(j){e(this).removeClass("on")});e(e("#eventRoomPhotosNav").children()[this.eventRoomPhotos.page]).addClass("on");_gaq.push(["_trackEvent","Scroller","EventRoomPhotos",this.eventRoomPhotos.page.toString()])},handleLocationScrollEnd:function(h){e(".otherEventLocations a.arrow").removeClass("disabled");if(this.otherLocations.page===0){e("#prevLocation").addClass("disabled")}else{if(this.otherLocations.page==this.otherLocations.maxpages-1){e("#nextLocation").addClass("disabled")}}e("#otherLocationsNav a").each(function(j){e(this).removeClass("on")});e(e("#otherLocationsNav").children()[this.otherLocations.page]).addClass("on");_gaq.push(["_trackEvent","Scroller","OtherLocations-events",this.otherLocations.page.toString()])},handleScroll:function(h){if(e(c).scrollTop()>50&&!this.scrollIndicatorFading){e("#scrollIndicator").fadeOut(300);this.scrollIndicatorFading=true}else{if(e(c).scrollTop()<50&&this.scrollIndicatorFading){e("#scrollIndicator").fadeIn(300);this.scrollIndicatorFading=false}}},handleResize:function(i){if(e(c).width()>=1024){var h=e(c).height()-45;if(h>1200){h=1200-45}e("header, header .slider .photoItem").css("height",h+"px");e(".sliderNav.eventroom").css("top",(h-56)+"px");e(".arrow.down.events").css("top",(h-30)+"px");e(".arrow.eventroom").css("top",(h-68)+"px")}else{e("header, header .slider .photoItem").css("height","");e(".sliderNav.eventroom").css("top","");e(".arrow.down.events").css("top","");e(".arrow.eventroom").css("top","")}},handleMediaQueryChange:function(l,i){this.menu.unsetNav();var h=this.restaurant;var j=e("#eventRoomPhotos").data("usegeneral");var k="/static/images/photos/"+h+"/events";if(j){k="/static/images/photos/"+h}if(i>=1024){this.organizeLocationTiles(3);this.otherLocations.updateOptions({peek:34,size:1,max:845});this.menu.setupNav("flyout");this.handleResize()}if(i>=640&&i<1024){this.organizeLocationTiles(2);this.otherLocations.updateOptions({peek:40,size:0.9,max:665});this.menu.setupNav("flyout")}if(i>=640){e("#eventRoomPhotos .photoItem").each(function(m){e(this).css("background-image","url("+k+"/LRG/"+(m+1)+".jpg)")})}if(i<640){this.organizeLocationTiles(1);this.otherLocations.updateOptions({peek:0,size:0.98,max:285});this.menu.setupNav("slideout");e("#eventRoomPhotos .photoItem").each(function(m){e(this).css("background-image","url("+k+"/LRG/"+(m+1)+".jpg)")})}},destroy:function(){}};return a})(jQuery,document,window,Utils);